<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Product - Kenshi Shop</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <nav class="navbar">
        <a href="{{ url_for('index') }}" class="navbar-brand">Kenshi Shop</a>
        <ul class="nav-links">
            <li><a href="{{ url_for('admin_dashboard') }}">Dashboard</a></li>
            <li><a href="{{ url_for('manage_products') }}">Manage Products</a></li>
            <li><a href="{{ url_for('add_product') }}">Add Product</a></li>
            <li><a href="{{ url_for('admin_logout') }}">Logout</a></li>
        </ul>
    </nav>

    <div class="container">
        <h1 class="page-title">Edit "{{ product.name }}"</h1>
        <div class="form-container">
            <form method="post">
                <div class="form-group">
                    <label for="name">Product Name:</label>
                    <input type="text" id="name" name="name" required value="{{ product.name }}">
                </div>
                <div class="form-group">
                    <label for="description">Features/Description:</label>
                    <textarea id="description" name="description" rows="6">{{ product.description }}</textarea>
                </div>
                <div class="form-group">
                    <label for="bonus_freebies">Bonus Freebies (One per line):</label>
                    <textarea id="bonus_freebies" name="bonus_freebies" rows="3">{{ product.bonus_freebies | join('\n') }}</textarea>
                </div>
                <div class="form-group">
                    <label for="price">Price (USD):</label>
                    <input type="number" step="0.01" id="price" name="price" required value="{{ product.price }}">
                </div>
                <div class="form-group">
                    <label for="status">Product Status:</label>
                    <select id="status" name="status">
                        <option value="available" {% if product.status == 'available' %}selected{% endif %}>Available (Visible on site)</option>
                        <option value="hidden" {% if product.status == 'hidden' %}selected{% endif %}>Hidden (Not visible on site)</option>
                    </select>
                </div>
                <div class="form-group file-info">
                    <h4>File Information (Cannot be changed)</h4>
                    <p>Image File: {{ product.image_filename }}</p>
                    <p>Product File: {{ product.script_filename or 'N/A' }}</p>
                    <small>To update files, delete this item and add it as a new product.</small>
                </div>
                <button type="submit" class="btn">Save Changes</button>
                <a href="{{ url_for('manage_products') }}" class="cancel-link">Cancel</a>
            </form>
        </div>
    </div>
</body>
</html>